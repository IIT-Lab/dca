initialize S_0, A_0
for t in range(0, ...):
    R_t, S_t+1 = execute(A_t)
    A_t+1 = policy(S_t+1)
    tau = t - n + 1
    if tau >= 0:
        G = 0
        for i in range(tau, tau+n):
            G += (gamma ** (i - tau)) * R_i
        G += (gamma ** n) * Q(S_tau+n, A_tau+n)
        Q(S_tau, A_tau) += alpha * (G - Q(S_tau, A_tau))
